/* === PORTFOLIO – DESKTOP / TABLET DEFAULT === */

/* Portfolio wrapper */
.portfolio__view {
  border-radius: 0;              // no background here
}

/* toggle button between gallery and list view */
.portfolio__toggle {
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 48px;
  height: 48px;
  padding: 12px;
  border-radius: 10px;
  background: var(--background-alt-color);   // ← keep: toggle button background
  transition: transform 0.15s ease;
  cursor: pointer;

  @media only screen and (max-width: $tablet) {
    display: none;
  }
}

/* three-bar “view” icon */
.icon-bar {
  position: relative;
  width: 4px;
  height: 4px;
  margin: 0 auto 4px auto;
  transition: all 0.15s ease;
  background: var(--heading-font-color);

  &:last-child {
    margin-bottom: 0;
  }

  &:before,
  &:after {
    content: "";
    position: absolute;
    display: block;
    width: 4px;
    height: 4px;
    background: var(--heading-font-color);
    opacity: 1;
    will-change: transform;
    transition: all 0.15s ease;
  }
  
  &:before {
    left: 0;
    transform: translateX(-9px);
  }

  &:after {
    right: 0;
    transform: translateX(9px);
  }
}

/* icon animation in list view */
.view-list {
  .icon-bar {
    width: 24px;

    &:before,
    &:after {
      opacity: 0;
    }

    &:before {
      left: 0;
      transform: translateX(-15px);
    }
    
    &:after {
      right: 0;
      transform: translateX(15px);
    }
  }
}

/* LIST VIEW – desktop / tablet layout */
.view-list {
  .portfolio__gallery {
    max-width: 500px;    // narrow gallery
    margin: 0 auto;      // center

    .col {
      width: 100%;
    }

    .portfolio__link {
      padding-top: 0;    // no fixed aspect ratio in desktop list
    }

    @media only screen and (max-width: $tablet) {
      .portfolio__link {
        padding-top: 0;
      }
    }
  }
}

/* Portfolio card item – desktop default */
.portfolio__item {
  padding: 0;
  margin-bottom: ($base-spacing-unit * 2);
  border-radius: 0;
  // background removed (except toggle/icons globally)
}

/* Clickable image wrapper – desktop default */
.portfolio__link {
  position: relative;
  transform: translate(0);
  display: block;
  border-radius: 0;
  // background removed
  transition: none;

  &:hover {
    .portfolio__icon {
      transform: translate(-50%, -50%) scale(1,1);
      opacity: 1;
      visibility: visible;
    }
  }

  &::after {
    /* no background here to respect “no background colors” rule */
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 0;
    opacity: 0;
    visibility: hidden;
    transition: all .35s ease;
  }
}

/* Lightbox / eye icon overlay */
.portfolio__icon {
  position: absolute;
  z-index: 1;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(.3,.3);
  display: flex;
  justify-content: center;
  align-items: center;
  width: 40px;
  height: 40px;
  border-radius: 0;
  box-shadow: 0 0 16px 0 rgba(0, 0, 0, 0.07);
  color: var(--heading-font-color);
  background: var(--border-color-alt);   // ← keep: icon background
  opacity: 0;
  visibility: hidden;
  transition: all .35s ease, transform .35s cubic-bezier(.175,.885,.32,1.275) 0s;
}

/* Portfolio image itself – only inside the portfolio section */
.section.portfolio .portfolio__image {
  position: static;
  display: block;
  height: 100%;
  object-fit: cover;
  border-radius: 0;
  box-shadow:
    0px 103px 80px rgba(27, 22, 50, 0.07),
    0px 37.6px 29.2px rgba(27, 22, 50, 0.0483),
    0px 18.25px 14.18px rgba(27, 22, 50, 0.0389),
    0px 8.95px 6.95px rgba(27, 22, 50, 0.0311),
    0px 3.54px 2.75px rgba(27, 22, 50, 0.0217);
}

/* Portfolio section heading override */
.section.portfolio .section__title {
  font-size: $font-size-h2;
  line-height: 1.1;
  margin-bottom: 0;
}

/* Optional: tweak for small screens (still applies, just text) */
@media only screen and (max-width: $mobile) {
  .section.portfolio .section__title {
    font-size: $font-size-h3;
    margin-bottom: $base-spacing-unit * 0.5;
  }
}


/* === PORTFOLIO – MOBILE OVERRIDES (phones)  */
@media only screen and (max-width: $tablet) {
  .section.portfolio .portfolio__image {
    width: 100%;
    max-width: 100%;
    height: auto;              // let image set its own height
    object-fit: cover;         // keep nice cropping but no forced height
    display: block;
    margin: 0 auto;            // center inside its column
  }

  /* optional: make the clickable wrapper also full-width */
  .section.portfolio .portfolio__link {
    display: block;
    width: 100%;
    max-width: 100%;
  }

  /* if your grid uses columns, make them full-width on phones */
  .section.portfolio .col {
    width: 100%;
    max-width: 100%;
    margin: 0 auto;

  }

  /* turn off icon for mobile*/
  .portfolio__icon {
  display: none;
  width: 0px;
  height: 0px;
  }

}
